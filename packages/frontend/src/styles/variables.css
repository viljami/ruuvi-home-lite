/**
 * Ruuvi Home Lite - CSS Variables
 *
 * This file defines the core CSS variables used throughout the application.
 * It establishes a single source of truth for responsive breakpoints,
 * device-specific settings, colors, and layout measurements.
 */

:root {
  /*
   * =========================================
   * LAYOUT & RESPONSIVE BREAKPOINTS
   * =========================================
   */
  
  /* Device class breakpoints */
  --breakpoint-xs: 360px; /* Small phones */
  --breakpoint-sm: 480px; /* Large phones */
  --breakpoint-md: 768px; /* Tablets */
  --breakpoint-lg: 992px; /* Small desktops/landscape tablets */
  --breakpoint-xl: 1200px; /* Large desktops */
  --breakpoint-xxl: 1440px; /* Extra large screens */

  /* Feature-specific breakpoints */
  --breakpoint-sidebar-fixed: 992px; /* Width at which sidebar becomes permanently visible */
  --breakpoint-chart-extended: 1100px; /* Width at which chart gets more horizontal space */
  --breakpoint-sidebar-compact: 600px; /* Width at which sidebar becomes more compact */

  /* Layout dimensions */
  --sidebar-width: 300px;
  --sidebar-width-compact: 240px;
  --content-max-width: 1200px;
  --header-height: 60px;
  --footer-height: 40px;
  
  /* Z-index layers */
  --z-index-base: 1;
  --z-index-sidebar: 100;
  --z-index-header: 90;
  --z-index-modal: 1000;
  --z-index-tooltip: 2000;

  /*
   * =========================================
   * SPACING SYSTEM
   * =========================================
   */
  --space-xxs: 2px;  /* Extra extra small: tiny details, borders */
  --space-xs: 4px;   /* Extra small: tight spacing, icons */
  --space-sm: 8px;   /* Small: compact components, buttons */
  --space-md: 16px;  /* Medium: standard spacing, main padding */
  --space-lg: 24px;  /* Large: section spacing */
  --space-xl: 32px;  /* Extra large: major section dividers */
  --space-xxl: 48px; /* Extra extra large: page sections */

  /*
   * =========================================
   * COLORS & THEMING
   * =========================================
   */
  
  /* Brand colors - core palette */
  --color-primary: #4a9eee;
  --color-secondary: #ff6b6b;
  --color-success: #4ecdc4;
  --color-warning: #ff9f40;
  --color-danger: #ff6b6b;
  --color-info: #b48eff;
  
  /* Primary color variations */
  --color-primary-light: rgba(74, 158, 255, 0.2);  /* Lighter shade for active states */
  --color-primary-lighter: rgba(74, 158, 255, 0.12); /* Very light shade for backgrounds */
  --color-primary-faint: rgba(74, 158, 255, 0.08);  /* Subtle hint of primary color */
  --color-primary-border: rgba(74, 158, 255, 0.3);  /* Border color related to primary */
  --color-primary-medium: rgba(74, 158, 255, 0.5);  /* Medium opacity primary for buttons */
  
  /* Secondary color variations */
  --color-secondary-border: rgba(255, 107, 107, 0.3);
  
  /* UI surface colors */
  --color-background: #ffffff;  /* Main background */
  --color-background-alt: rgba(248, 249, 250, 0.3); /* Alternative background */
  --color-border: rgba(222, 226, 230, 0.4); /* Default border color */
  --color-border-light: rgba(0, 0, 0, 0.1); /* Lighter border */
  --color-overlay: rgba(0, 0, 0, 0.3); /* Overlay for modals/sidebars */
  
  /* Text colors */
  --color-text: #212529; /* Primary text color */
  --color-text-light: #6c757d; /* Secondary text color */
  --color-text-on-primary: white; /* Text on primary color backgrounds */
  
  /* Component-specific colors */
  --color-scrollbar-thumb: rgba(0, 0, 0, 0.1);
  --color-button-subtle: rgba(0, 0, 0, 0.02);
  --color-button-hover: rgba(0, 0, 0, 0.04);
  --color-humidity: #b4a149; /* Specific color for humidity values */
  
  /* Chart specific colors */
  --chart-grid-color: rgba(0, 0, 0, 0.07); /* Subtle grid lines for light mode */
  --chart-label-color: #666666; /* Higher contrast for light mode */

  /*
   * =========================================
   * TYPOGRAPHY
   * =========================================
   */
  --font-family-base:
    -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue",
    Arial, sans-serif;
  --font-family-mono: SFMono-Regular, Menlo, Monaco, Consolas, monospace;

  /* Font sizes - scalable system */
  --font-size-xxs: 10px; /* Extra extra small: microcopy, superscript */
  --font-size-xs: 12px;  /* Extra small: secondary information */
  --font-size-sm: 14px;  /* Small: UI components, compact text */
  --font-size-md: 16px;  /* Medium: body text (default) */
  --font-size-lg: 18px;  /* Large: small headings, emphasized text */
  --font-size-xl: 24px;  /* Extra large: headings */

  /* Line heights */
  --line-height-base: 1.5;    /* Standard for body text */
  --line-height-heading: 1.2; /* Tighter for headings */

  /*
   * =========================================
   * UI ELEMENT STYLING
   * =========================================
   */
  
  /* Border radiuses */
  --border-radius-xs: 2px;  /* Extra small: subtle rounding */
  --border-radius-sm: 3px;  /* Small: buttons, inputs */
  --border-radius-md: 4px;  /* Medium: cards, panels */
  --border-radius-lg: 8px;  /* Large: prominent elements */
  
  /* Border widths */
  --border-width-xs: 1px;   /* Standard border */
  --border-width-md: 2px;   /* Medium border, focus states */
  --border-width-lg: 4px;   /* Thick border, highlights */
  
  /* Opacity levels */
  --opacity-subtle: 0.3;    /* Subtle elements, disabled state */
  --opacity-medium: 0.6;    /* Medium emphasis */
  --opacity-high: 0.8;      /* High emphasis */
  
  /* Shadows */
  --shadow-subtle: 0 1px 3px rgba(0, 0, 0, 0.1);   /* Subtle elevation */
  --shadow-medium: 0 2px 6px rgba(0, 0, 0, 0.15);  /* Medium elevation */
  --shadow-high: 0 4px 12px rgba(0, 0, 0, 0.2);    /* High elevation */

  /*
   * =========================================
   * ANIMATIONS & TRANSITIONS
   * =========================================
   */
  --transition-fast: 150ms ease;  /* Quick interactions */
  --transition-base: 250ms ease;  /* Standard transitions */
  --transition-slow: 400ms ease;  /* Slower, more noticeable transitions */

  /*
   * =========================================
   * DEVICE-SPECIFIC ADJUSTMENTS
   * =========================================
   */
  --touch-target-size: 44px;     /* Minimum touch target size (iOS HIG) */
  --touch-target-size-sm: 36px;  /* Smaller touch target for compact UI */
  --safe-area-inset-top: 0px;    /* For notched devices */
  --safe-area-inset-bottom: 0px; /* For home indicator on newer iOS */
  --safe-area-inset-left: 0px;
  --safe-area-inset-right: 0px;

  /*
   * =========================================
   * CHART SPECIFIC SETTINGS
   * =========================================
   */
  --chart-height-mobile: 200px;
  --chart-height-tablet: 300px;
  --chart-height-desktop: 400px;
}

/* 
 * =========================================
 * DEVICE-SPECIFIC OVERRIDES
 * =========================================
 */

/* iOS-specific adjustments */
.ios-device {
  /* Touch feedback for iOS */
  --touch-feedback-opacity: 0.7; /* iOS needs stronger visual feedback */
  --button-tap-highlight: rgba(0, 0, 0, 0);
  
  /* Better tap behavior for iOS */
  --webkit-tap-highlight-color: transparent;

  /* Safe area insets for notched devices (iPhone X and newer) */
  /* These will be set dynamically by JS but default values help with initial render */
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
}

/* Android-specific adjustments */
.android-device {
  /* Android has different feedback needs */
  --touch-feedback-opacity: 0.5; /* Android has built-in ripple feedback */
  --button-tap-highlight: transparent;
  
  /* Adjust font rendering for Android */
  --webkit-font-smoothing: auto;
}

/* PWA mode specific adjustments */
.pwa-mode {
  /* Optimized for installed app experience */
  --header-height: 50px; /* Slightly smaller header in PWA mode */
  --footer-height: 36px; /* Compact footer in PWA mode */
  
  /* PWA specific colors */
  --color-background: #fafafa; /* Slightly off-white for better contrast */
}

/* 
 * =========================================
 * DARK MODE
 * =========================================
 */
@media (prefers-color-scheme: dark) {
  :root {
    /* Brand colors - slightly adjusted for dark mode */
    --color-primary: #4a9eee;      /* Keep primary color recognizable */
    --color-secondary: #ff6b6b;    /* Keep secondary color recognizable */
    --color-success: #4ecdc4;      /* Keep success color recognizable */
    --color-warning: #ff9f40;      /* Keep warning color recognizable */
    --color-danger: #ff6b6b;       /* Keep danger color recognizable */
    --color-info: #b48eff;         /* Keep info color recognizable */
    
    /* Primary color variations - adjusted for dark backgrounds */
    --color-primary-light: rgba(74, 158, 255, 0.25);
    --color-primary-lighter: rgba(74, 158, 255, 0.15);
    --color-primary-faint: rgba(74, 158, 255, 0.1);
    --color-primary-border: rgba(74, 158, 255, 0.35);
    --color-primary-medium: rgba(74, 158, 255, 0.6);
    
    /* Secondary color variations */
    --color-secondary-border: rgba(255, 107, 107, 0.35);
    
    /* UI surface colors */
    --color-background: #121212;    /* Material dark background */
    --color-background-alt: rgba(30, 30, 30, 0.3);
    --color-border: rgba(44, 44, 44, 0.4);
    --color-border-light: rgba(255, 255, 255, 0.1);
    --color-overlay: rgba(0, 0, 0, 0.5);
    
    /* Text colors */
    --color-text: #e0e0e0;          /* Light text for dark backgrounds */
    --color-text-light: #a0a0a0;    /* Secondary text */
    --color-text-on-primary: #ffffff;
    
    /* Component-specific colors */
    --color-scrollbar-thumb: rgba(255, 255, 255, 0.1);
    --color-button-subtle: rgba(255, 255, 255, 0.05);
    --color-button-hover: rgba(255, 255, 255, 0.1);
    --color-humidity: #d9c36b;      /* Adjusted for dark mode */
    
    /* Chart specific colors - already good for dark mode, keep as is */
    --chart-grid-color: rgba(255, 255, 255, 0.1);
    --chart-label-color: #a0a0a0;
    
    /* Shadows - subtler in dark mode */
    --shadow-subtle: 0 1px 3px rgba(0, 0, 0, 0.3);
    --shadow-medium: 0 2px 6px rgba(0, 0, 0, 0.4);
    --shadow-high: 0 4px 12px rgba(0, 0, 0, 0.5);
  }
  
  /* iOS dark mode specific adjustments */
  .ios-device {
    --button-tap-highlight: rgba(255, 255, 255, 0.05);
  }
}
